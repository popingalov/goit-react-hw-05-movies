{"version":3,"sources":["service/Api.js","Components/FilmList/FilmList.js","Components/SearchForm/SearchForm.module.css","Components/SearchForm/SearchForm.js","page/MoviesPage.js"],"names":["BASE","takeTrand","a","get","axios","then","res","data","results","takeSearch","search","takeMovieForId","id","takeCredits","takeReviews","FilmList","array","state","location","useLocation","pathname","map","title","poster_path","to","alt","src","module","exports","SearchForm","forSearch","useState","searchForm","setSearchForm","className","s","onSubmit","e","preventDefault","trim","alert","toLowerCase","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","target","MoviesPage","useSearchParams","searchParams","setSearchParams","setArray","navigate","useNavigate","useEffect","length","style","display","justifyContent"],"mappings":"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","file":"static/js/4.14c36df7.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst BASE = {\r\n  URL: 'https://api.themoviedb.org/3',\r\n  KEY: '7c9dd50606a07df965d51fc9621e1448',\r\n};\r\n\r\nexport async function takeTrand() {\r\n  const get = axios\r\n    .get(`${BASE.URL}/trending/movie/day?api_key=${BASE.KEY}`)\r\n    .then(res => res.data.results);\r\n  return get;\r\n}\r\nexport async function takeSearch(search) {\r\n  const get = axios\r\n    .get(`${BASE.URL}/search/movie?api_key=${BASE.KEY}&query=${search}`)\r\n    .then(res => res.data.results);\r\n\r\n  return get;\r\n}\r\nexport async function takeMovieForId(id) {\r\n  const get = axios\r\n    .get(`${BASE.URL}/movie/${id}?api_key=${BASE.KEY}&language=en-US`)\r\n    .then(res => res.data);\r\n\r\n  return get;\r\n}\r\nexport async function takeCredits(id) {\r\n  const get = axios\r\n    .get(`${BASE.URL}/movie/${id}/credits?api_key=${BASE.KEY}&language=en-US`)\r\n    .then(res => res.data);\r\n\r\n  return get;\r\n}\r\nexport async function takeReviews(id) {\r\n  const get = axios\r\n    .get(`${BASE.URL}/movie/${id}/reviews?api_key=${BASE.KEY}&language=en-US`)\r\n    .then(res => res.data.results);\r\n\r\n  return get;\r\n}\r\n","import { Link, useLocation } from 'react-router-dom';\r\n/* import foto from './wooden-train-2066492_1920.jpg'; */\r\n\r\nexport default function FilmList({ array, state }) {\r\n  const location = useLocation();\r\n  if (state) {\r\n    location.state = `${location.pathname}${state}`;\r\n  }\r\n\r\n  return (\r\n    <ul>\r\n      {array?.map(({ id, title, poster_path }) => (\r\n        <li key={id}>\r\n          <Link\r\n            to={\r\n              location.pathname === '/'\r\n                ? `/movies/${id}`\r\n                : `${location.pathname}/${id}`\r\n            }\r\n            state={{ state: location.state }}\r\n          >\r\n            <img\r\n              alt={title}\r\n              src={\r\n                poster_path\r\n                  ? `https://image.tmdb.org/t/p/w500/${poster_path}`\r\n                  : 'https://cdn.pixabay.com/photo/2019/07/15/23/51/magnifying-4340698_960_720.jpg'\r\n              }\r\n            />\r\n            <h2>{title}</h2>\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__wswb4\",\"SearchForm_button\":\"SearchForm_SearchForm_button__25rGo\",\"SearchForm_button_label\":\"SearchForm_SearchForm_button_label__2oaJS\",\"SearchForm_input\":\"SearchForm_SearchForm_input__31tUL\",\"SearchForm-input\":\"SearchForm_SearchForm-input__CzCV6\"};","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport s from './SearchForm.module.css';\r\nexport default function SearchForm({ forSearch }) {\r\n  const [searchForm, setSearchForm] = useState('');\r\n\r\n  const Submit = e => {\r\n    e.preventDefault();\r\n    if (searchForm.trim() === '') {\r\n      alert('Введите текст');\r\n      setSearchForm('');\r\n      return;\r\n    }\r\n    forSearch(searchForm.toLowerCase());\r\n    setSearchForm('');\r\n  };\r\n\r\n  return (\r\n    <form className={s.SearchForm} onSubmit={Submit}>\r\n      <button type=\"submit\" className={s.SearchForm_button}>\r\n        <span className={s.SearchForm_button_label}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        className={s.SearchForm_input}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search films\"\r\n        value={searchForm}\r\n        onChange={e => setSearchForm(e.target.value)}\r\n      />\r\n    </form>\r\n  );\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  forSearch: PropTypes.func.isRequired,\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useSearchParams, useLocation, useNavigate } from 'react-router-dom';\r\nimport { takeSearch } from '../service/Api';\r\nimport FilmList from 'Components/FilmList/FilmList';\r\nimport SearchForm from 'Components/SearchForm/SearchForm';\r\n//\r\n//\r\nconst MoviesPage = () => {\r\n  const [searchParams, setSearchParams] = useSearchParams('');\r\n  const [array, setArray] = useState([]);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (!location.search) {\r\n      return;\r\n    }\r\n\r\n    takeSearch(searchParams).then(e => {\r\n      if (e.length < 1) {\r\n        navigate('/');\r\n        alert(`Повашему запросу: ${location.search} совпадений не найдено`);\r\n        return;\r\n      }\r\n      setArray(e);\r\n    });\r\n  }, [location.search, searchParams, navigate]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <SearchForm forSearch={setSearchParams} />\r\n      </div>\r\n      <FilmList array={array} state={location.search} />\r\n    </>\r\n  );\r\n};\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}